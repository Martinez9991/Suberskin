package testes;

import org.openqa.selenium.WebDriver;
import org.openqa.selenium.chrome.ChromeDriver;
import org.testng.annotations.AfterTest;
import org.testng.annotations.BeforeTest;
import org.testng.annotations.Test;

import com.aventstack.extentreports.ExtentReports;
import com.aventstack.extentreports.ExtentTest;
import com.aventstack.extentreports.reporter.ExtentSparkReporter;

import paginas.SuberskinMainPageObjects;

public class SuberskinTestPage {

	ExtentSparkReporter sparkReporter;
	ExtentReports extent;
	WebDriver driver= null;
	
	@BeforeTest
	public void beforetest() 
	{
		sparkReporter = new ExtentSparkReporter("SuberskinAngularTeste.html");
		extent = new ExtentReports();
		extent.attachReporter(sparkReporter);
		String projectPath = System.getProperty("user.dir");
		System.setProperty("webdriver.chrome.driver",projectPath+"/drivers/chromedriver/chromedriver.exe");
		driver = new ChromeDriver(); 
	}
	
	@Test
	public void test() 
	{
		ExtentTest test = extent.createTest("Teste Suberskin","Simples Teste");	
		driver.get("https://ecoskin.pt/");
		test.pass("Navegou para a ecoskin.pt");
		SuberskinMainPageObjects searchPageObj = new SuberskinMainPageObjects(driver);
		searchPageObj.click_botao_cookies();
		test.pass("Fez o clique no botao de aceitar as cookies");
		searchPageObj.click_botao_teste();
		test.pass("Fez o clique no botao teste");
	}
	
	@AfterTest
	public void aftertest() 
	{
		System.out.print("Test Completed Successfully");
		extent.flush();
	}
}